{"version":3,"sources":["../../src/fields/TypeOption.jsx","../../src/fields/TypeMultipleOption.jsx","../../src/fields/TypeDate.jsx","../../src/fields/TypeCascade.jsx","../../src/fields/TypeNumber.jsx","../../src/fields/TypeInput.jsx","../../src/fields/TypeText.jsx","../../src/fields/support/Maps.jsx","../../src/fields/TypeGeo.jsx","../../src/index.js","App.js","index.js"],"names":["TypeOption","option","id","name","keyform","required","rules","key","label","direction","value","o","style","width","TypeMultipleOption","mode","TypeDate","TypeCascade","cascade","options","TypeNumber","TypeInput","sytle","TypeText","row","DefaultIcon","iconUrl","shadowUrl","iconShadow","L","defaultCenter","lat","lng","DraggableMarker","changePos","position","markerRef","useRef","eventHandlers","useMemo","dragend","marker","newPos","useMapEvents","click","e","ref","draggable","MapRef","center","useMap","map","Maps","form","useState","setPosition","onChange","cname","parseFloat","justify","marginBottom","span","paddingRight","placeholder","min","max","paddingLeft","className","zoom","scrollWheelZoom","height","attribution","url","TypeGeo","setValue","disabled","hidden","QuestionFields","index","field","validator","Promise","Error","rule","type","mapRules","Question","fields","shouldUpdate","prevValues","x","currentValues","getFieldValue","dependency","valid","validateDependency","unmatches","Webform","forms","onFinish","Form","layout","scrollToFirstError","onValuesChange","setTimeout","fr","values","all","filled","Object","current","progress","console","title","g","htmlType","formData","administration","App","log","data","keys","v","question","parseInt","filter","fontSize","src","theme","displayDataTypes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8b071b17.chunk.js","sourcesContent":["import React from 'react'\nimport { Space, Form, Radio, Select } from 'antd'\n\nconst TypeOption = ({ option, id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      {option.length < 3 ? (\n        <Radio.Group>\n          <Space direction='vertical'>\n            {option.map((o, io) => (\n              <Radio key={io} value={o.name}>\n                {o.name}\n              </Radio>\n            ))}\n          </Space>\n        </Radio.Group>\n      ) : (\n        <Select style={{ width: '100%' }}>\n          {option.map((o, io) => (\n            <Select.Option key={io} value={o.name}>\n              {o.name}\n            </Select.Option>\n          ))}\n        </Select>\n      )}\n    </Form.Item>\n  )\n}\n\nexport default TypeOption\n","import React from 'react'\nimport { Form, Select } from 'antd'\n\nconst TypeMultipleOption = ({ option, id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      <Select mode='multiple' style={{ width: '100%' }}>\n        {option.map((o, io) => (\n          <Select.Option key={io} value={o.name}>\n            {o.name}\n          </Select.Option>\n        ))}\n      </Select>\n    </Form.Item>\n  )\n}\n\nexport default TypeMultipleOption\n","import React from 'react'\nimport { Form, DatePicker } from 'antd'\n\nconst TypeDate = ({ id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      <DatePicker style={{ width: '100%' }} />\n    </Form.Item>\n  )\n}\n\nexport default TypeDate\n","import React from 'react'\nimport { Form, Cascader } from 'antd'\n\nconst TypeCascade = ({ cascade, id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      <Cascader options={cascade} />\n    </Form.Item>\n  )\n}\n\nexport default TypeCascade\n","import React from 'react'\nimport { Form, InputNumber } from 'antd'\n\nconst TypeNumber = ({ id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      <InputNumber style={{ width: '100%' }} />\n    </Form.Item>\n  )\n}\n\nexport default TypeNumber\n","import React from 'react'\nimport { Form, Input } from 'antd'\n\nconst TypeInput = ({ id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      <Input sytle={{ width: '100%' }} />\n    </Form.Item>\n  )\n}\n\nexport default TypeInput\n","import React from 'react'\nimport { Form } from 'antd'\nimport TextArea from 'antd/lib/input/TextArea'\n\nconst TypeText = ({ id, name, keyform, required, rules }) => {\n  return (\n    <Form.Item\n      key={keyform}\n      name={id}\n      label={`${keyform + 1}. ${name}`}\n      rules={rules}\n      required={required}\n    >\n      <TextArea row={4} />\n    </Form.Item>\n  )\n}\n\nexport default TypeText\n","import React, { useState, useRef, useMemo } from 'react'\nimport L from 'leaflet'\nimport {\n  MapContainer,\n  TileLayer,\n  Marker,\n  useMapEvents,\n  useMap\n} from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport icon from 'leaflet/dist/images/marker-icon.png'\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png'\nimport { Row, Col, InputNumber } from 'antd'\n\nconst DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow\n})\n\nL.Marker.prototype.options.icon = DefaultIcon\n\nconst defaultCenter = {\n  lat: 0,\n  lng: 0\n}\n\nconst DraggableMarker = ({ changePos, position }) => {\n  const markerRef = useRef(null)\n  const eventHandlers = useMemo(\n    () => ({\n      dragend() {\n        const marker = markerRef.current\n        if (marker != null) {\n          const newPos = marker.getLatLng()\n          changePos(newPos)\n        }\n      }\n    }),\n    []\n  )\n\n  useMapEvents({\n    click(e) {\n      const newPos = e.latlng\n      changePos(newPos)\n    }\n  })\n\n  if (!position?.lat && !position?.lng) {\n    return ''\n  }\n\n  return (\n    <Marker\n      eventHandlers={eventHandlers}\n      position={position}\n      ref={markerRef}\n      draggable\n    />\n  )\n}\n\nconst MapRef = ({ center }) => {\n  const map = useMap()\n  map.panTo(center)\n  return null\n}\n\nconst Maps = ({ form, id, setValue, center }) => {\n  const [position, setPosition] = useState({ lat: null, lng: null })\n\n  const changePos = (newPos) => {\n    setPosition(newPos)\n    if (newPos?.lat && newPos?.lng) {\n      form.setFieldsValue({ [id]: newPos })\n    }\n  }\n\n  const onChange = (cname, e) => {\n    changePos({ ...position, [cname]: parseFloat(e) })\n  }\n\n  return (\n    <div>\n      <Row justify='space-between' style={{ marginBottom: '10px' }}>\n        <Col span={12} style={{ paddingRight: '10px' }}>\n          <InputNumber\n            placeholder='Latitude'\n            style={{ width: '100%' }}\n            value={position?.lat || null}\n            min='-90'\n            max='90'\n            onChange={(e) => onChange('lat', e)}\n          />\n        </Col>\n        <Col span={12} style={{ paddingLeft: '10px' }}>\n          <InputNumber\n            placeholder='Longitude'\n            className='site-input-right'\n            style={{ width: '100%' }}\n            value={position?.lng || null}\n            min='-180'\n            max='180'\n            onChange={(e) => onChange('lng', e)}\n          />\n        </Col>\n      </Row>\n      <Row>\n        <Col span={24}>\n          <MapContainer\n            zoom={13}\n            scrollWheelZoom={false}\n            style={{ height: '300px', width: '100%' }}\n          >\n            <MapRef\n              center={\n                position?.lat && position?.lng\n                  ? position\n                  : center || defaultCenter\n              }\n            />\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n            />\n            <DraggableMarker\n              form={form}\n              id={id}\n              changePos={changePos}\n              position={position}\n            />\n          </MapContainer>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default Maps\n","import React, { useState } from 'react'\nimport { Col, Form, Input } from 'antd'\nimport Maps from './support/Maps'\n\nconst TypeGeo = ({ id, form, name, keyform, required, rules, center }) => {\n  const [value, setValue] = useState(null)\n  return (\n    <Col>\n      <Form.Item\n        key={keyform}\n        name={id}\n        label={`${keyform + 1}. ${name}`}\n        rules={rules}\n        required={required}\n      >\n        <Input value={value} disabled hidden />\n      </Form.Item>\n      <Maps form={form} setValue={setValue} id={id} center={center} />\n    </Col>\n  )\n}\n\nexport default TypeGeo\n","import React from 'react'\nimport { Row, Col, Card, Button, Form } from 'antd'\nimport 'antd/dist/antd.css'\nimport './styles.module.css'\nimport TypeOption from './fields/TypeOption'\nimport TypeMultipleOption from './fields/TypeMultipleOption'\nimport TypeDate from './fields/TypeDate'\nimport TypeCascade from './fields/TypeCascade'\nimport TypeNumber from './fields/TypeNumber'\nimport TypeInput from './fields/TypeInput'\nimport TypeText from './fields/TypeText'\nimport TypeGeo from './fields/TypeGeo'\n\nconst mapRules = ({ name, rule, type }) => {\n  if (type === 'number') {\n    return [{ ...rule, type: 'number' }]\n  }\n  return [{}]\n}\n\nconst QuestionFields = ({ cascade, form, index, field }) => {\n  let rules = []\n  if (field?.required) {\n    rules = [\n      {\n        validator: (_, value) =>\n          value\n            ? Promise.resolve()\n            : Promise.reject(new Error(`${field.name} is required`))\n      }\n    ]\n  }\n  if (field?.rule) {\n    rules = [...rules, ...mapRules(field)]\n  }\n  switch (field.type) {\n    case 'option':\n      return <TypeOption keyform={index} rules={rules} {...field} />\n    case 'multiple_option':\n      return <TypeMultipleOption keyform={index} rules={rules} {...field} />\n    case 'cascade':\n      return (\n        <TypeCascade\n          keyform={index}\n          cascade={cascade[field.option]}\n          rules={rules}\n          {...field}\n        />\n      )\n    case 'date':\n      return <TypeDate keyform={index} rules={rules} {...field} />\n    case 'number':\n      return <TypeNumber keyform={index} rules={rules} {...field} />\n    case 'text':\n      return <TypeText keyform={index} rules={rules} {...field} />\n    case 'geo':\n      return <TypeGeo keyform={index} rules={rules} form={form} {...field} />\n    default:\n      return <TypeInput keyform={index} rules={rules} {...field} />\n  }\n}\n\nconst validateDependency = (dependency, value) => {\n  if (dependency?.options) {\n    return dependency.options.includes(value)\n  }\n  let valid = false\n  if (dependency?.min) {\n    valid = value >= dependency.min\n  }\n  if (dependency?.max) {\n    valid = value <= dependency.max\n  }\n  return valid\n}\n\nconst Question = ({ fields, cascade, form }) => {\n  return fields.map((field, key) => {\n    if (field?.dependency) {\n      return (\n        <Form.Item\n          key={key}\n          shouldUpdate={(prevValues, currentValues) => {\n            const update = field.dependency\n              .map((x) => prevValues[x.id] !== currentValues[x.id])\n              .filter((x) => x === true)\n            return update.length\n          }}\n        >\n          {({ getFieldValue }) => {\n            const unmatches = field.dependency\n              .map((x) => validateDependency(x, getFieldValue(x.id)))\n              .filter((x) => x === false)\n            return unmatches.length ? null : (\n              <QuestionFields\n                form={form}\n                index={key}\n                cascade={cascade}\n                field={field}\n              />\n            )\n          }}\n        </Form.Item>\n      )\n    }\n    return (\n      <QuestionFields\n        form={form}\n        key={key}\n        index={key}\n        cascade={cascade}\n        field={field}\n      />\n    )\n  })\n}\n\nexport const Webform = ({ forms, onChange, onFinish, style }) => {\n  const [form] = Form.useForm()\n  if (!forms?.question_group) {\n    return 'Error Format'\n  }\n\n  const onSubmit = (values) => {\n    if (onFinish) {\n      onFinish(values)\n    } else {\n      console.log(values)\n    }\n  }\n\n  const onValuesChange = (fr, value, values) => {\n    const all = fr.getFieldsError().length\n    const filled = Object.keys(values)\n      .map((k) => values[k])\n      .filter((x) => x).length\n    if (onChange) {\n      onChange({\n        current: value,\n        values: values,\n        progress: (filled / all) * 100\n      })\n    }\n  }\n\n  return (\n    <Form\n      form={form}\n      layout='vertical'\n      name={forms.name}\n      scrollToFirstError='true'\n      onValuesChange={(value, values) =>\n        setTimeout(() => {\n          onValuesChange(form, value, values)\n        }, 100)\n      }\n      onFinish={onSubmit}\n      style={style}\n    >\n      {forms?.question_group.map((g, key) => {\n        return (\n          <Card key={key} title={g.name || `Section ${key + 1}`}>\n            <Question fields={g.question} cascade={forms.cascade} form={form} />\n          </Card>\n        )\n      })}\n      <Row>\n        <Col span={24}>\n          <Card>\n            <Form.Item>\n              <Button type='primary' htmlType='submit'>\n                Submit\n              </Button>\n            </Form.Item>\n          </Card>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n","import React from 'react'\nimport ReactJson from 'react-json-view'\nimport { Webform } from 'akvo-react-form'\nimport * as forms from './example.json'\nimport * as cascade from './example-cascade.json'\nimport 'akvo-react-form/dist/index.css'\n\nconst formData = {\n  ...forms.default,\n  cascade: { administration: cascade.default }\n}\n\nconst App = () => {\n  const onChange = (value) => {\n    console.log(value)\n  }\n  const onFinish = (values) => {\n    const data = Object.keys(values).map((v) => {\n      if (values[v]) {\n        return { question: parseInt(v), value: values[v] }\n      }\n      return false\n    })\n    console.log(data.filter((x) => x))\n  }\n  return (\n    <div>\n      <div className='half-width'>\n        <Webform\n          forms={formData}\n          onChange={onChange}\n          onFinish={onFinish}\n          style={{ fontSize: '30px' }}\n        />\n      </div>\n      <div className='half-width json-source'>\n        <ReactJson src={formData} theme='monokai' displayDataTypes={false} />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}