(this["webpackJsonpakvo-react-form-example"]=this["webpackJsonpakvo-react-form-example"]||[]).push([[0],{158:function(e){e.exports=JSON.parse('{"name":"HH","question_group":[{"name":"Registration","order":1,"question":[{"id":1,"name":"Location","order":1,"type":"cascade","option":"administration","required":true},{"id":2,"name":"Geolocation","order":2,"type":"geo","center":{"lat":9.145,"lng":40.4897},"required":true},{"id":3,"name":"Name","order":3,"type":"input","required":true},{"id":4,"name":"Birthdate","order":4,"type":"date","required":true},{"id":5,"name":"Gender","order":5,"type":"option","option":[{"name":"Male","order":1},{"name":"Female","order":2},{"name":"Other","order":3}],"required":true}]},{"name":"Other Question","order":2,"question":[{"id":6,"name":"Favorite Food","order":1,"type":"multiple_option","option":[{"name":"Asian","order":1},{"name":"Western","order":2},{"name":"Vegetarian","order":3}],"required":false},{"id":7,"name":"Comment","order":2,"type":"text","required":false},{"id":8,"name":"Do you know beef rendang?","order":3,"type":"option","option":[{"name":"Yes","order":1},{"name":"No","order":2}],"required":false},{"id":9,"name":"rate your hunger on a scale of 5 to 10","order":4,"type":"number","required":true,"rule":{"min":5,"max":10}}]}]}')},159:function(e){e.exports=JSON.parse('[{"value":1,"label":"Jawa Barat","children":[{"value":1,"label":"Bandung"},{"value":2,"label":"Bogor"},{"value":3,"label":"Garut"},{"value":4,"label":"Sukabumi"},{"value":5,"label":"Cianjur"},{"value":6,"label":"Sumedang"}]},{"value":2,"label":"Yogyakarta","children":[{"value":1,"label":"D.I Yogyakarta"},{"value":2,"label":"Sleman"},{"value":3,"label":"Bantul"},{"value":4,"label":"Kulon Progo"},{"value":5,"label":"Gunung Kidul"}]}]')},165:function(e,t,a){e.exports=a(308)},166:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);a(166);var n=a(0),r=a.n(n),l=a(26),o=a.n(l),i=a(52),u=a(150),c=a.n(u),m=a(75),d=a(42),s=a(320),p=a(319),v=a(323),f=a(325),y=a(322),g=a(321),h=a(317),E=a(161),b=a(318),q=a(101),w=a(157),O=a.n(w),k=(a(171),a(51)),x=a.n(k),j=a(314),S=a(315),F=a(316),B=a(324),C=(a(172),a(151)),N=a.n(C),L=a(152),P=a.n(L);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var I=x.a.icon({iconUrl:N.a,shadowUrl:P.a});x.a.Marker.prototype.options.icon=I;var J={lat:0,lng:0},_=function(e){var t=e.changePos,a=e.position,l=Object(n.useRef)(null),o=Object(n.useMemo)((function(){return{dragend:function(){var e=l.current;if(null!=e){var a=e.getLatLng();t(a)}}}}),[]);return Object(j.b)({click:function(e){var a=e.latlng;t(a)}}),null!==a&&void 0!==a&&a.lat||null!==a&&void 0!==a&&a.lng?r.a.createElement(S.a,{eventHandlers:o,position:a,ref:l,draggable:!0}):""},M=function(e){var t=e.center;return Object(j.a)().panTo(t),null},V=function(e){var t=e.form,a=e.id,l=e.center,o=Object(n.useState)({lat:null,lng:null}),i=o[0],u=o[1],c=function(e){var n;(u(e),null!==e&&void 0!==e&&e.lat&&null!==e&&void 0!==e&&e.lng)&&t.setFieldsValue(((n={})[a]=e,n))},p=function(e,t){var a;c(G({},i,((a={})[e]=parseFloat(t),a)))};return r.a.createElement("div",null,r.a.createElement(m.a,{justify:"space-between",style:{marginBottom:"10px"}},r.a.createElement(d.a,{span:12,style:{paddingRight:"10px"}},r.a.createElement(s.a,{placeholder:"Latitude",style:{width:"100%"},value:(null===i||void 0===i?void 0:i.lat)||null,min:"-90",max:"90",onChange:function(e){return p("lat",e)}})),r.a.createElement(d.a,{span:12,style:{paddingLeft:"10px"}},r.a.createElement(s.a,{placeholder:"Longitude",className:"site-input-right",style:{width:"100%"},value:(null===i||void 0===i?void 0:i.lng)||null,min:"-180",max:"180",onChange:function(e){return p("lng",e)}}))),r.a.createElement(m.a,null,r.a.createElement(d.a,{span:24},r.a.createElement(F.a,{zoom:13,scrollWheelZoom:!1,style:{height:"300px",width:"100%"}},r.a.createElement(M,{center:null!==i&&void 0!==i&&i.lat&&null!==i&&void 0!==i&&i.lng?i:l||J}),r.a.createElement(B.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(_,{form:t,id:a,changePos:c,position:i})))))},z=function(e){var t=e.fields,a=e.cascade,l=e.form,o=Object(n.useState)(null),i=o[0],u=o[1];return t.map((function(e,t){var n=[];return null!==e&&void 0!==e&&e.required&&(n=[{validator:function(t,a){return a?Promise.resolve():Promise.reject(new Error(e.name+" is required"))}}]),e.rule&&(n=[].concat(n,function(e){var t=e.rule;return"number"===e.type?[G({},t,{type:"number"})]:[{}]}(e))),r.a.createElement(p.a.Item,{key:t,name:e.id,label:t+1+". "+e.name,rules:n,required:null===e||void 0===e?void 0:e.required},"option"===e.type?e.option.length<3?r.a.createElement(v.a.Group,null,r.a.createElement(f.b,{direction:"vertical"},e.option.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e.name},e.name)})))):r.a.createElement(y.a,{style:{width:"100%"}},e.option.map((function(e,t){return r.a.createElement(y.a.Option,{key:t,value:e.name},e.name)}))):"multiple_option"===e.type?r.a.createElement(y.a,{mode:"multiple",style:{width:"100%"}},e.option.map((function(e,t){return r.a.createElement(y.a.Option,{key:t,value:e.name},e.name)}))):"cascade"===e.type?r.a.createElement(g.a,{options:a[e.option]}):"date"===e.type?r.a.createElement(h.a,{style:{width:"100%"}}):"number"===e.type?r.a.createElement(s.a,{style:{width:"100%"}}):"text"===e.type?r.a.createElement(O.a,{row:4}):"geo"===e.type?r.a.createElement(d.a,null,r.a.createElement(E.a,{value:i,disabled:!0,hidden:!0}),r.a.createElement(V,{form:l,setValue:u,id:e.id,center:null===e||void 0===e?void 0:e.center})):r.a.createElement(E.a,{sytle:{width:"100%"}}))}))},D=function(e){var t=e.forms,a=e.onChange,n=e.onFinish,l=e.style,o=p.a.useForm()[0];if(null===t||void 0===t||!t.question_group)return"Error Format";return r.a.createElement(p.a,{form:o,layout:"vertical",name:t.name,onValuesChange:function(e){a&&a(e)},onFinish:function(e){n?n(e):console.log(e)},style:l},null===t||void 0===t?void 0:t.question_group.map((function(e,a){return r.a.createElement(b.a,{key:a,title:e.name||"Section "+(a+1)},r.a.createElement(z,{fields:e.question,cascade:t.cascade,form:o}))})),r.a.createElement(m.a,null,r.a.createElement(d.a,{span:24},r.a.createElement(b.a,null,r.a.createElement(p.a.Item,null,r.a.createElement(q.a,{type:"primary",htmlType:"submit"},"Submit"))))))},H=a(158),R=a(159),T=(a(307),Object(i.a)(Object(i.a)({},H),{},{cascade:{administration:R}})),Y=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"half-width"},r.a.createElement(D,{forms:T,onChange:function(e){console.log(e)},onFinish:function(e){var t=Object.keys(e).map((function(t){return!!e[t]&&{question:parseInt(t),value:e[t]}}));console.log(t.filter((function(e){return e})))},style:{fontSize:"30px"}})),r.a.createElement("div",{className:"half-width json-source"},r.a.createElement(c.a,{src:T,theme:"monokai",displayDataTypes:!1})))};o.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.ce2e7eff.chunk.js.map