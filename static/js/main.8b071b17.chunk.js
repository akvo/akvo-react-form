(this["webpackJsonpakvo-react-form-example"]=this["webpackJsonpakvo-react-form-example"]||[]).push([[0],{158:function(e){e.exports=JSON.parse('{"name":"HH","question_group":[{"name":"Registration","order":1,"question":[{"id":1,"name":"Location","order":1,"type":"cascade","option":"administration","required":true},{"id":2,"name":"Geolocation","order":2,"type":"geo","center":{"lat":9.145,"lng":40.4897},"required":true},{"id":3,"name":"Name","order":3,"type":"input","required":true},{"id":4,"name":"Birthdate","order":4,"type":"date","required":true},{"id":5,"name":"Gender","order":5,"type":"option","option":[{"name":"Male","order":1},{"name":"Female","order":2},{"name":"Other","order":3}],"required":true},{"id":6,"name":"Marital Status","dependency":[{"id":5,"options":["Female","Male"]}],"order":6,"type":"option","option":[{"name":"Single","order":1},{"name":"Maried","order":2},{"name":"Widowed","order":3}],"required":true}]},{"name":"Other Question","order":2,"question":[{"id":7,"name":"Favorite Food","order":1,"type":"multiple_option","option":[{"name":"Asian","order":1},{"name":"Western","order":2},{"name":"Vegetarian","order":3}],"required":false},{"id":8,"name":"Comment","order":2,"type":"text","required":false},{"id":9,"name":"Do you know beef rendang?","order":3,"type":"option","option":[{"name":"Yes","order":1},{"name":"No","order":2}],"required":false},{"id":10,"name":"Rate your hunger on a scale of 5 to 10","order":4,"type":"number","required":true,"rule":{"min":5,"max":10}},{"id":11,"name":"Where do you usually order Rendang from ?","dependency":[{"id":9,"options":["Yes"]},{"id":10,"min":8}],"order":5,"type":"option","option":[{"name":"Pagi Sore","order":1},{"name":"Any Rendang Restaurant","order":2}],"required":true},{"id":12,"name":"Do you want to order Rendang from Pagi Sore now?","dependency":[{"id":11,"options":["Pagi Sore"]}],"order":6,"type":"option","option":[{"name":"Yes","order":1},{"name":"No","order":2}],"required":true}]}]}')},159:function(e){e.exports=JSON.parse('[{"value":1,"label":"Jawa Barat","children":[{"value":1,"label":"Bandung"},{"value":2,"label":"Bogor"},{"value":3,"label":"Garut"},{"value":4,"label":"Sukabumi"},{"value":5,"label":"Cianjur"},{"value":6,"label":"Sumedang"}]},{"value":2,"label":"Yogyakarta","children":[{"value":1,"label":"D.I Yogyakarta"},{"value":2,"label":"Sleman"},{"value":3,"label":"Bantul"},{"value":4,"label":"Kulon Progo"},{"value":5,"label":"Gunung Kidul"}]}]')},165:function(e,r,n){e.exports=n(308)},166:function(e,r,n){},307:function(e,r,n){},308:function(e,r,n){"use strict";n.r(r);n(166);var a=n(0),t=n.n(a),l=n(26),o=n.n(l),i=n(52),u=n(150),m=n.n(u),c=n(319),d=n(323),s=n(324),p=n(322),f=n(317),y=n(320),v=n(321),g=n(161),E=n(75),h=n(42),b=n(318),k=n(101),q=(n(171),n(157)),w=n.n(q),x=n(51),O=n.n(x),j=n(314),S=n(315),F=n(316),I=n(325),P=(n(172),n(151)),N=n.n(P),R=n(152),B=n.n(R);function C(){return(C=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var M=function(e){var r=e.option,n=e.id,a=e.name,l=e.keyform,o=e.required,i=e.rules;return t.a.createElement(c.a.Item,{key:l,name:n,label:l+1+". "+a,rules:i,required:o},r.length<3?t.a.createElement(d.a.Group,null,t.a.createElement(s.b,{direction:"vertical"},r.map((function(e,r){return t.a.createElement(d.a,{key:r,value:e.name},e.name)})))):t.a.createElement(p.a,{style:{width:"100%"}},r.map((function(e,r){return t.a.createElement(p.a.Option,{key:r,value:e.name},e.name)}))))},L=function(e){var r=e.option,n=e.id,a=e.name,l=e.keyform,o=e.required,i=e.rules;return t.a.createElement(c.a.Item,{key:l,name:n,label:l+1+". "+a,rules:i,required:o},t.a.createElement(p.a,{mode:"multiple",style:{width:"100%"}},r.map((function(e,r){return t.a.createElement(p.a.Option,{key:r,value:e.name},e.name)}))))},G=function(e){var r=e.id,n=e.name,a=e.keyform,l=e.required,o=e.rules;return t.a.createElement(c.a.Item,{key:a,name:r,label:a+1+". "+n,rules:o,required:l},t.a.createElement(f.a,{style:{width:"100%"}}))},J=function(e){var r=e.cascade,n=e.id,a=e.name,l=e.keyform,o=e.required,i=e.rules;return t.a.createElement(c.a.Item,{key:l,name:n,label:l+1+". "+a,rules:i,required:o},t.a.createElement(y.a,{options:r}))},T=function(e){var r=e.id,n=e.name,a=e.keyform,l=e.required,o=e.rules;return t.a.createElement(c.a.Item,{key:a,name:r,label:a+1+". "+n,rules:o,required:l},t.a.createElement(v.a,{style:{width:"100%"}}))},V=function(e){var r=e.id,n=e.name,a=e.keyform,l=e.required,o=e.rules;return t.a.createElement(c.a.Item,{key:a,name:r,label:a+1+". "+n,rules:o,required:l},t.a.createElement(g.a,{sytle:{width:"100%"}}))},Y=function(e){var r=e.id,n=e.name,a=e.keyform,l=e.required,o=e.rules;return t.a.createElement(c.a.Item,{key:a,name:r,label:a+1+". "+n,rules:o,required:l},t.a.createElement(w.a,{row:4}))},_=O.a.icon({iconUrl:N.a,shadowUrl:B.a});O.a.Marker.prototype.options.icon=_;var D={lat:0,lng:0},W=function(e){var r=e.changePos,n=e.position,l=Object(a.useRef)(null),o=Object(a.useMemo)((function(){return{dragend:function(){var e=l.current;if(null!=e){var n=e.getLatLng();r(n)}}}}),[]);return Object(j.b)({click:function(e){var n=e.latlng;r(n)}}),null!==n&&void 0!==n&&n.lat||null!==n&&void 0!==n&&n.lng?t.a.createElement(S.a,{eventHandlers:o,position:n,ref:l,draggable:!0}):""},z=function(e){var r=e.center;return Object(j.a)().panTo(r),null},H=function(e){var r=e.form,n=e.id,l=e.center,o=Object(a.useState)({lat:null,lng:null}),i=o[0],u=o[1],m=function(e){var a;(u(e),null!==e&&void 0!==e&&e.lat&&null!==e&&void 0!==e&&e.lng)&&r.setFieldsValue(((a={})[n]=e,a))},c=function(e,r){var n;m(C({},i,((n={})[e]=parseFloat(r),n)))};return t.a.createElement("div",null,t.a.createElement(E.a,{justify:"space-between",style:{marginBottom:"10px"}},t.a.createElement(h.a,{span:12,style:{paddingRight:"10px"}},t.a.createElement(v.a,{placeholder:"Latitude",style:{width:"100%"},value:(null===i||void 0===i?void 0:i.lat)||null,min:"-90",max:"90",onChange:function(e){return c("lat",e)}})),t.a.createElement(h.a,{span:12,style:{paddingLeft:"10px"}},t.a.createElement(v.a,{placeholder:"Longitude",className:"site-input-right",style:{width:"100%"},value:(null===i||void 0===i?void 0:i.lng)||null,min:"-180",max:"180",onChange:function(e){return c("lng",e)}}))),t.a.createElement(E.a,null,t.a.createElement(h.a,{span:24},t.a.createElement(F.a,{zoom:13,scrollWheelZoom:!1,style:{height:"300px",width:"100%"}},t.a.createElement(z,{center:null!==i&&void 0!==i&&i.lat&&null!==i&&void 0!==i&&i.lng?i:l||D}),t.a.createElement(I.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.a.createElement(W,{form:r,id:n,changePos:m,position:i})))))},U=function(e){var r=e.id,n=e.form,l=e.name,o=e.keyform,i=e.required,u=e.rules,m=e.center,d=Object(a.useState)(null),s=d[0],p=d[1];return t.a.createElement(h.a,null,t.a.createElement(c.a.Item,{key:o,name:r,label:o+1+". "+l,rules:u,required:i},t.a.createElement(g.a,{value:s,disabled:!0,hidden:!0})),t.a.createElement(H,{form:n,setValue:p,id:r,center:m}))},A=function(e){var r=e.cascade,n=e.form,a=e.index,l=e.field,o=[];switch(null!==l&&void 0!==l&&l.required&&(o=[{validator:function(e,r){return r?Promise.resolve():Promise.reject(new Error(l.name+" is required"))}}]),null!==l&&void 0!==l&&l.rule&&(o=[].concat(o,function(e){var r=e.rule;return"number"===e.type?[C({},r,{type:"number"})]:[{}]}(l))),l.type){case"option":return t.a.createElement(M,C({keyform:a,rules:o},l));case"multiple_option":return t.a.createElement(L,C({keyform:a,rules:o},l));case"cascade":return t.a.createElement(J,C({keyform:a,cascade:r[l.option],rules:o},l));case"date":return t.a.createElement(G,C({keyform:a,rules:o},l));case"number":return t.a.createElement(T,C({keyform:a,rules:o},l));case"text":return t.a.createElement(Y,C({keyform:a,rules:o},l));case"geo":return t.a.createElement(U,C({keyform:a,rules:o,form:n},l));default:return t.a.createElement(V,C({keyform:a,rules:o},l))}},K=function(e){var r=e.fields,n=e.cascade,a=e.form;return r.map((function(e,r){return null!==e&&void 0!==e&&e.dependency?t.a.createElement(c.a.Item,{key:r,shouldUpdate:function(r,n){return e.dependency.map((function(e){return r[e.id]!==n[e.id]})).filter((function(e){return!0===e})).length}},(function(l){var o=l.getFieldValue;return e.dependency.map((function(e){return function(e,r){if(null!==e&&void 0!==e&&e.options)return e.options.includes(r);var n=!1;return null!==e&&void 0!==e&&e.min&&(n=r>=e.min),null!==e&&void 0!==e&&e.max&&(n=r<=e.max),n}(e,o(e.id))})).filter((function(e){return!1===e})).length?null:t.a.createElement(A,{form:a,index:r,cascade:n,field:e})})):t.a.createElement(A,{form:a,key:r,index:r,cascade:n,field:e})}))},Q=function(e){var r=e.forms,n=e.onChange,a=e.onFinish,l=e.style,o=c.a.useForm()[0];if(null===r||void 0===r||!r.question_group)return"Error Format";return t.a.createElement(c.a,{form:o,layout:"vertical",name:r.name,scrollToFirstError:"true",onValuesChange:function(e,r){return setTimeout((function(){!function(e,r,a){var t=e.getFieldsError().length,l=Object.keys(a).map((function(e){return a[e]})).filter((function(e){return e})).length;n&&n({current:r,values:a,progress:l/t*100})}(o,e,r)}),100)},onFinish:function(e){a?a(e):console.log(e)},style:l},null===r||void 0===r?void 0:r.question_group.map((function(e,n){return t.a.createElement(b.a,{key:n,title:e.name||"Section "+(n+1)},t.a.createElement(K,{fields:e.question,cascade:r.cascade,form:o}))})),t.a.createElement(E.a,null,t.a.createElement(h.a,{span:24},t.a.createElement(b.a,null,t.a.createElement(c.a.Item,null,t.a.createElement(k.a,{type:"primary",htmlType:"submit"},"Submit"))))))},Z=n(158),X=n(159),$=(n(307),Object(i.a)(Object(i.a)({},Z),{},{cascade:{administration:X}})),ee=function(){return t.a.createElement("div",null,t.a.createElement("div",{className:"half-width"},t.a.createElement(Q,{forms:$,onChange:function(e){console.log(e)},onFinish:function(e){var r=Object.keys(e).map((function(r){return!!e[r]&&{question:parseInt(r),value:e[r]}}));console.log(r.filter((function(e){return e})))},style:{fontSize:"30px"}})),t.a.createElement("div",{className:"half-width json-source"},t.a.createElement(m.a,{src:$,theme:"monokai",displayDataTypes:!1})))};o.a.render(t.a.createElement(ee,null),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.8b071b17.chunk.js.map